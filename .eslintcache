[{"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/index.js":"1","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/App.js":"2","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/api.js":"3","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Movie/ShowMovieList.js":"4","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Movie/FetchMovie.js":"5","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Header.js":"6","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/RouterPage.js":"7","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/GlobalStyles.js":"8","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Covid19/ShowCovid19.js":"9","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/useInfiniteScroll.js":"10","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Covid19/FetchCovid.js":"11"},{"size":219,"mtime":1608382766802,"results":"12","hashOfConfig":"13"},{"size":220,"mtime":1608393675125,"results":"14","hashOfConfig":"13"},{"size":704,"mtime":1608455482698,"results":"15","hashOfConfig":"13"},{"size":986,"mtime":1608448154136,"results":"16","hashOfConfig":"13"},{"size":1162,"mtime":1608457564965,"results":"17","hashOfConfig":"13"},{"size":1097,"mtime":1608396079134,"results":"18","hashOfConfig":"13"},{"size":489,"mtime":1608482482806,"results":"19","hashOfConfig":"13"},{"size":455,"mtime":1608393618266,"results":"20","hashOfConfig":"13"},{"size":3912,"mtime":1608483570888,"results":"21","hashOfConfig":"13"},{"size":769,"mtime":1608479215877,"results":"22","hashOfConfig":"13"},{"size":2794,"mtime":1608480544966,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1pkb81h",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"26"},"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/index.js",[],["52","53"],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/App.js",[],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/api.js",[],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Movie/ShowMovieList.js",[],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Movie/FetchMovie.js",["54","55"],"import { useEffect, useState } from \"react\";\nimport { getMovies } from \"../api\";\nimport { useInfiniteScroll } from \"../useInfiniteScroll\";\n\nexport const FetchMovie = () => {\n  const [loading, setLoading] = useState(true);\n  const [movie, setMovie] = useState([]);\n  const [fetching, setFetching] = useState(false);\n  const { page } = useInfiniteScroll();\n\n  const fetchFirst = async () => {\n    setLoading(true);\n    try {\n      const {\n        data: {\n          data: { movies },\n        },\n      } = await getMovies(page);\n      setMovie(movies);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refetchMovie = async () => {\n    setFetching(true);\n    try {\n      const {\n        data: {\n          data: { movies: newMovies },\n        },\n      } = await getMovies(page);\n      const mergeMovie = movie.concat(...newMovies);\n      setMovie(mergeMovie);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setFetching(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchFirst();\n  }, []);\n\n  useEffect(() => {\n    refetchMovie();\n  }, [page]);\n\n  return { loading, movie, fetching };\n};\n","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Header.js",[],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/RouterPage.js",["56"],"import React from \"react\";\nimport {\n  HashRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport Covie19 from \"./Covid19/ShowCovid19\";\nimport Header from \"./Header\";\nimport ShowMovieList from \"./Movie/ShowMovieList\";\n\nexport default () => (\n  <Router>\n    <Header />\n    <Switch>\n      <Route path=\"/\" exact component={Covie19} />\n      <Route path=\"/movieList\" exact component={ShowMovieList} />\n      <Redirect from=\"*\" to=\"/\" />\n    </Switch>\n  </Router>\n);\n","/Users/hongsungyeun/Documents/projects/infinite_scroll/src/GlobalStyles.js",[],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Covid19/ShowCovid19.js",[],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/useInfiniteScroll.js",["57"],"import { useEffect, useState } from \"react\";\n\nexport function useInfiniteScroll() {\n  const [page, setPage] = useState(1);\n  const [yesterday, setYesterday] = useState(new Date());\n\n  function handleScroll() {\n    const scrollHeight = document.documentElement.scrollHeight;\n    const scrollTop = document.documentElement.scrollTop;\n    const clientHeight = document.documentElement.clientHeight;\n\n    if (scrollTop + clientHeight === scrollHeight) {\n      setPage((p) => p + 1);\n      yesterday.setDate(yesterday.getDate() - 1);\n      setYesterday(yesterday.toDateString());\n    }\n  }\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, []);\n  return { page, yesterday };\n}\n",["58","59"],"/Users/hongsungyeun/Documents/projects/infinite_scroll/src/Covid19/FetchCovid.js",["60","61"],"import { useState, useEffect } from \"react\";\nimport { useInfiniteScroll } from \"../useInfiniteScroll\";\nimport { getCovid } from \"../api\";\n\nexport const FetchCovid = (date) => {\n  const [isNothing, setIsNothing] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const [count, setCount] = useState(0);\n  const [covid, setCovid] = useState({});\n  const { page, yesterday } = useInfiniteScroll();\n\n  function CalToday(calDate) {\n    let date = {\n      year: 2020,\n      month: 1,\n      day: 1,\n    };\n\n    const year = calDate.getFullYear();\n    let month = calDate.getMonth() + 1;\n    let day = calDate.getDate();\n\n    if (month < 10) {\n      month = `0${month}`;\n    }\n    if (day < 10) {\n      day = `0${day}`;\n    }\n\n    date = {\n      year,\n      month,\n      day,\n    };\n    return date;\n  }\n\n  const fetchFirst = async () => {\n    setLoading(true);\n    const todayDate = new Date();\n    const date = CalToday(todayDate);\n    const SEDate = `${date.year}${date.month}${date.day}`;\n    try {\n      let {\n        data: {\n          response: {\n            body: {\n              items: { item },\n            },\n          },\n        },\n      } = await getCovid(page, SEDate, SEDate);\n\n      if (item === undefined) {\n        setIsNothing(true);\n      } else {\n        setIsNothing(false);\n      }\n\n      const checker = {};\n      item = item.reduce((dup, i) => {\n        if (!checker[i.gubun]) {\n          checker[i.gubun] = i;\n          dup.push(i);\n        }\n        return dup;\n      }, []);\n      const covidObj = {\n        [count]: {\n          covidArr: item,\n          today: date,\n        },\n      };\n      setCovid(covidObj);\n      setCount(count + 1);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refetchCovid = async () => {\n    const date = CalToday(new Date(yesterday));\n    const SEDate = `${date.year}${date.month}${date.day}`;\n    try {\n      let {\n        data: {\n          response: {\n            body: {\n              items: { item: newCovid },\n            },\n          },\n        },\n      } = await getCovid(page, SEDate, SEDate);\n\n      const checker = {};\n      newCovid = newCovid.reduce((dup, item) => {\n        if (!checker[item.gubun]) {\n          checker[item.gubun] = item;\n          dup.push(item);\n        }\n\n        return dup;\n      }, []);\n\n      const covidObj = {\n        [count]: {\n          covidArr: newCovid,\n          today: date,\n        },\n      };\n\n      const mergeCovid = Object.assign(covid, covidObj);\n      setCovid(mergeCovid);\n      setCount(count + 1);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchFirst();\n  }, []);\n\n  useEffect(() => {\n    refetchCovid();\n  }, [yesterday]);\n\n  return { loading, covid, isNothing };\n};\n",{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":46,"column":6,"nodeType":"68","endLine":46,"endColumn":8,"suggestions":"69"},{"ruleId":"66","severity":1,"message":"70","line":50,"column":6,"nodeType":"68","endLine":50,"endColumn":12,"suggestions":"71"},{"ruleId":"72","severity":1,"message":"73","line":12,"column":1,"nodeType":"74","endLine":21,"endColumn":3},{"ruleId":"66","severity":1,"message":"75","line":21,"column":6,"nodeType":"68","endLine":21,"endColumn":8,"suggestions":"76"},{"ruleId":"62","replacedBy":"77"},{"ruleId":"64","replacedBy":"78"},{"ruleId":"66","severity":1,"message":"67","line":124,"column":6,"nodeType":"68","endLine":124,"endColumn":8,"suggestions":"79"},{"ruleId":"66","severity":1,"message":"80","line":128,"column":6,"nodeType":"68","endLine":128,"endColumn":17,"suggestions":"81"},"no-native-reassign",["82"],"no-negated-in-lhs",["83"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchFirst'. Either include it or remove the dependency array.","ArrayExpression",["84"],"React Hook useEffect has a missing dependency: 'refetchMovie'. Either include it or remove the dependency array.",["85"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","React Hook useEffect has a missing dependency: 'handleScroll'. Either include it or remove the dependency array.",["86"],["82"],["83"],["87"],"React Hook useEffect has a missing dependency: 'refetchCovid'. Either include it or remove the dependency array.",["88"],"no-global-assign","no-unsafe-negation",{"desc":"89","fix":"90"},{"desc":"91","fix":"92"},{"desc":"93","fix":"94"},{"desc":"89","fix":"95"},{"desc":"96","fix":"97"},"Update the dependencies array to be: [fetchFirst]",{"range":"98","text":"99"},"Update the dependencies array to be: [page, refetchMovie]",{"range":"100","text":"101"},"Update the dependencies array to be: [handleScroll]",{"range":"102","text":"103"},{"range":"104","text":"99"},"Update the dependencies array to be: [refetchCovid, yesterday]",{"range":"105","text":"106"},[1059,1061],"[fetchFirst]",[1110,1116],"[page, refetchMovie]",[732,734],"[handleScroll]",[2685,2687],[2736,2747],"[refetchCovid, yesterday]"]